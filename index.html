<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./index.css">
    <script type="text/x-template" id="item-template">
      <div>
        <figure @click="$emit('show-modal', item)">
          <img :src="item.src" alt="item.name">
          <figcaption>{{item.name}}</figcaption>
        </figure>
      </div>
    </script>
  </head>

  <body>
    <div id="menu">
      <header>
        <span id="logo">
          <span>ca</span>
          <span>li</span>
          <span>su</span>
          <span>De</span>
          <span>Kitchen</span>
        </span>
        <span id="search">
          <input type="text" placeholder="èœå/é£Ÿæ" v-model="search">
          <button type="button" @click="handleSearch">æœç´¢</button>
          <button type="button" @click="handleClear">æ¸…ç©º</button>
        </span>
      </header>
      <div id="menu-info">
        <ul id="side-bar">
          <li
            v-for="ctgr of categories"
            :key="ctgr.id"
            @click="sideBarSelect(ctgr.id)">
            <i :class="ctgr.icon">{{ctgr.icon}}</i>
            {{ctgr.type}}
          </li>
        </ul>
        <div class="main">
          <h3>èœè°±</h3>
          <div class="menu-list">
            <dish-list
              v-for="dish of filterDishes"
              :key="dish.id"
              :item="dish"
              @show-modal="showModal"
            ></dish-list>
          </div>
        </div>
        
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div v-if="current_item" class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title dish-title" id="exampleModalLabel">
                  {{current_item.name}}
                  <button type="button" class="recommend" v-if="current_item.recommend">ä¸»å¨æ¨è</button>
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <h6>é£Ÿæ</h6>
                <div class="recipe">
                  <span v-for="rcp of current_item.recipe">{{rcp}}</span>
                </div>
                <h6 class="method">åšæ³•</h6>
                <ol>
                  <li v-for="way of current_item.methods">{{way}}</li>
                </ol>
                <h6 class="ref">å‚è€ƒé“¾æ¥</h6>
                <a v-for="ref of current_item.link" :href="ref.content" class="ref-link" target="_blank">{{ref.name}}</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      
    </div>
    <script>
      Vue.component('dish-list', {
        template: '#item-template',
        props: {
          item: Object
        }
      });

      let menu = new Vue({
        el: '#menu',
        data: {
          search: '',
          categories: [
            {type: 'å¨å¸ˆæ¨è', icon: 'ğŸ‘¨â€ğŸ³', id: 0},
            {type: 'å‰èœ', icon: 'ğŸ¥—', id: 1},
            {type: 'çŒªè‚‰', icon: 'ğŸ·', id: 2},
            {type: 'ç¾Šè‚‰', icon: 'ğŸ', id: 3},
            {type: 'ç‰›è‚‰', icon: 'ğŸ‚', id: 4},
            {type: 'æµ·é²œ', icon: 'ğŸ¦', id: 5},
            {type: 'é¸¡è‚‰', icon: 'ğŸ”', id: 6},
            {type: 'ç´ èœ', icon: 'ğŸ¥¬', id: 7},
            {type: 'ä¸»é£Ÿ', icon: 'ğŸš', id: 8},
            {type: 'ç”œå“', icon: 'ğŸ°', id: 9}
          ],
          current_item: {},
          filterDishes: [],
          dishes: [
            {id:1, name: 'å¹²ç…¸å››å­£è±†', type:[7], src:'1.jpg', recommend: true, recipe: ['è±†è§’', 'çŒªè‚‰', 'è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:2, name: 'å’–å–±é¸¡é¥­', type:[6], src:'2.jpg', recommend: true, recipe: ['é¸¡è…¿è‚‰/é¸¡èƒ¸è‚‰', 'å’–å–±', 'æ´‹è‘±'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:3, name: 'å¯ä¹æ’éª¨', type:[2], src:'3.jpg', recommend: true, recipe: ['æ’éª¨', 'å¯ä¹'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:4, name: 'èŠ‹å¤´ç«é”…é¸¡', type:[6], src:'4.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:5, name: 'å°–æ¤’ç‰›è‚‰', type:[7], src:'5.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:6, name: 'å¯ä¹é¸¡ç¿…', type:[6], src:'6.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:7, name: 'å°–æ¤’è‚‰ç‰‡', type:[7], src:'7.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:8, name: 'ç‹¼ç‰™åœŸè±†', type:[7], src:'8.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:9, name: 'éº»å©†è±†è…', type:[7], src:'9.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:10, name: 'è…Šè‚‰è¥¿è“èŠ±', type:[7], src:'10.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:11, name: 'çº¢çƒ§çŒªè¹„', type:[7], src:'11.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:12, name: 'é±¼é¦™è‚‰ä¸', type:[7], src:'12.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:13, name: 'è‘±çˆ†è›¤èœŠ', type:[7], src:'13.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:14, name: 'åœ°ä¸‰é²œ', type:[7], src:'14.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:15, name: 'è’œè“‰æ²¹éº¦èœ', type:[7], src:'15.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:16, name: 'è±†è±‰è’¸é±¼', type:[7], src:'16.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:17, name: 'æœ¨é¡»è‚‰', type:[7], src:'17.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:18, name: 'å¹²é”…é¸¡', type:[7], src:'18.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:19, name: 'é…±ç‰›è‚‰', type:[7], src:'19.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:20, name: 'çƒ¤ç¾Šè…¿', type:[7], src:'20.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:21, name: 'è±†è…ç‚–é±¼', type:[7], src:'21.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]},
            {id:22, name: 'è‘±çƒ§è±†è…', type:[7], src:'22.jpg', recommend: true, recipe: ['è±†è§’', 'è‚‰æ²«', 'è‡­è’œ'], methods:['ä½ çŒœçŒœ','æˆ‘çŒœçŒœ', 'ä»–çŒœçŒœ'], link: [{name: 'ç»ƒç»ƒå§å§', content: 'https://www.xiachufang.com/recipe/104730172/'}]}
          ]
        },
        created: function() {
          this.filterDishes = this.dishes;
        },
        methods: {
          showModal: function(item) {
            this.current_item = item;
            $('#exampleModal').modal('show');
          },
          sideBarSelect: function(catgoryId) {
            const tmp_dishes = [];
            if (catgoryId === 0) {
              for (let dish of this.dishes) {
                if (dish.recommend) tmp_dishes.push(dish);
              }
            } else {
              for (let dish of this.dishes) {
                if (dish.type.indexOf(catgoryId) !== -1) tmp_dishes.push(dish);
              }
            }

            this.filterDishes = tmp_dishes;
          },

          handleSearch: function() {
            const tmp_dishes = [];
            for (let dish of this.dishes) {
              if (dish.name.indexOf(this.search) !== -1) tmp_dishes.push(dish);
              else {
                for (let rec of dish.recipe) {
                  if (rec.indexOf(this.search) !== -1) tmp_dishes.push(dish);
                }
              }
            }

            this.filterDishes = tmp_dishes;
          },

          handleClear: function() {
            this.filterDishes = this.dishes;
            this.search = '';
          }
        }
      });
    </script>
  </body>
</html>




























